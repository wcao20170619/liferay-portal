{"payload":{"configuration":{"parameter_configuration":{"keywords":{"parameter_name":"q"},"custom":[{"configuration":{"min":"1970-11-11","date_format":"yyyymmdd"},"parameter_name":"dateFrom","type":"date"},{"parameter_name":"time","type":"time_range"}],"page":{"parameter_name":"page"}},"sort_configuration":{"default":[],"parameters":[]},"aggregation_configuration":[],"facet_configuration":[],"framework_configuration":{"apply_indexer_clauses":true},"query_configuration":[{"clauses":[{"occur":"should","query":{"query":{"term":{"assetCategoryIds":{"boost":10,"value":""}}}},"context":"query","type":"wrapper"}],"icon":"thumbs-up","description":{"en_US":"Boost contents in a category for users belonging to a user segment"},"category":"conditional","conditions":[{"handler":"default","configuration":{"evaluation_type":"contains","parameter_name":"${user.user_segment_entry_ids}","match_value":[""]},"operator":"AND"}],"title":{"en_US":"Boost Contents in a Category for a User Segment"},"enabled":true},{"clauses":[{"occur":"should","query":{"query":{"terms":{"groupId":"${user.user_group_ids}"}}},"context":"query","type":"wrapper"}],"icon":"thumbs-up","description":{"en_US":"Boost contents in groups I'm member of"},"category":"boost","conditions":[],"title":{"en_US":"Boost Contents in My Groups"},"enabled":true},{"clauses":[{"occur":"should","query":{"query":{"function_score":{"gauss":{"expando__keyword__custom_fields__location_geolocation":{"origin":{"lon":"${ipstack.longitude}","lat":"${ipstack.latitude}"},"scale":"1000km","decay":0.3}},"boost":40}}},"context":"query","type":"wrapper"}],"icon":"thumbs-up","description":{"en_US":"Boost contents tagged close to my location with a Gaussian function"},"category":"boost","conditions":[],"title":{"en_US":"Boost Proximity"},"enabled":true}],"advanced_configuration":{"query_processing":{"exclude_query_post_processors":"","exclude_query_contributors":""},"source":{"source_includes":"","fetch_source":true,"source_excludes":""},"highlighting":{"fields":["localized_title${context.language_id}","content${context.language_id}"],"require_field_match":"true","enabled":"true","fragment_size":"50","snippet_size":"10"},"page_size":10}},"description":{"en_US":"Boost contents matching user's properties like language, location, groups and segments. Geolocation data provider has to be enabled in Blueprints configuration to take advantage of locating features."},"title":{"en_US":"Personalization (Sample Blueprint)"},"selected_fragments":{"query_configuration":[{"uiConfigurationValues":{"asset_category_id":"","boost":10,"user_segment_id":""},"uiConfigurationJSON":[{"helpText":"Add asset category ID","name":"Asset Category","type":"number","key":"asset_category_id"},{"helpText":"Add user segment ID","name":"User Segment","type":"number","key":"user_segment_id"},{"defaultValue":10,"name":"Boost","type":"slider","key":"boost"}],"fragmentOutput":{"clauses":[{"occur":"should","query":{"query":{"term":{"assetCategoryIds":{"boost":10,"value":""}}}},"context":"query","type":"wrapper"}],"icon":"thumbs-up","description":{"en_US":"Boost contents in a category for users belonging to a user segment"},"category":"conditional","conditions":[{"handler":"default","configuration":{"evaluation_type":"contains","parameter_name":"${user.user_segment_entry_ids}","match_value":[""]},"operator":"AND"}],"title":{"en_US":"Boost Contents in a Category for a User Segment"},"enabled":true},"fragmentTemplateJSON":{"clauses":[{"occur":"should","query":{"query":{"term":{"assetCategoryIds":{"boost":"${config.boost}","value":"${config.asset_category_id}"}}}},"context":"query","type":"wrapper"}],"icon":"thumbs-up","description":{"en_US":"Boost contents in a category for users belonging to a user segment"},"category":"conditional","conditions":[{"handler":"default","configuration":{"evaluation_type":"contains","parameter_name":"${user.user_segment_entry_ids}","match_value":["${config.user_segment_id}"]},"operator":"AND"}],"title":{"en_US":"Boost Contents in a Category for a User Segment"},"enabled":true}},{"uiConfigurationValues":{},"uiConfigurationJSON":[],"fragmentOutput":{"clauses":[{"occur":"should","query":{"query":{"terms":{"groupId":"${user.user_group_ids}"}}},"context":"query","type":"wrapper"}],"icon":"thumbs-up","description":{"en_US":"Boost contents in groups I'm member of"},"category":"boost","conditions":[],"title":{"en_US":"Boost Contents in My Groups"},"enabled":true},"fragmentTemplateJSON":{"clauses":[{"occur":"should","query":{"query":{"terms":{"groupId":"${user.user_group_ids}"}}},"context":"query","type":"wrapper"}],"icon":"thumbs-up","description":{"en_US":"Boost contents in groups I'm member of"},"category":"boost","conditions":[],"title":{"en_US":"Boost Contents in My Groups"},"enabled":true}},{"uiConfigurationValues":{"field":"expando__keyword__custom_fields__location_geolocation","scale":1000,"boost":40,"decay":0.3},"uiConfigurationJSON":[{"defaultValue":40,"name":"Boost","type":"slider","key":"boost"},{"helpText":"A geopoint field","defaultValue":"expando__keyword__custom_fields__location_geolocation","name":"Field","type":"text","key":"field"},{"defaultValue":0.3,"name":"Decay","type":"number","key":"decay"},{"unit":"km","defaultValue":1000,"name":"Scale","type":"number","unitSuffix":"km","key":"scale"}],"fragmentOutput":{"clauses":[{"occur":"should","query":{"query":{"function_score":{"gauss":{"expando__keyword__custom_fields__location_geolocation":{"origin":{"lon":"${ipstack.longitude}","lat":"${ipstack.latitude}"},"scale":"1000km","decay":0.3}},"boost":40}}},"context":"query","type":"wrapper"}],"icon":"thumbs-up","description":{"en_US":"Boost contents tagged close to my location with a Gaussian function"},"category":"boost","conditions":[],"title":{"en_US":"Boost Proximity"},"enabled":true},"fragmentTemplateJSON":{"clauses":[{"occur":"should","query":{"query":{"function_score":{"gauss":{"${config.field}":{"origin":{"lon":"${ipstack.longitude}","lat":"${ipstack.latitude}"},"scale":"${config.scale}","decay":"${config.decay}"}},"boost":"${config.boost}"}}},"context":"query","type":"wrapper"}],"icon":"thumbs-up","description":{"en_US":"Boost contents tagged close to my location with a Gaussian function"},"category":"boost","conditions":[],"title":{"en_US":"Boost Proximity"},"enabled":true}}]}},"type":1}
{"payload":{"configuration":{"parameter_configuration":{"keywords":{"parameter_name":"q"},"custom":[{"configuration":{"min":"1970-11-11","date_format":"yyyymmdd"},"parameter_name":"dateFrom","type":"date"},{"parameter_name":"time","type":"time_range"}],"page":{"parameter_name":"page"}},"sort_configuration":{"default":[],"parameters":[]},"aggregation_configuration":[],"facet_configuration":[],"framework_configuration":{"apply_indexer_clauses":true},"query_configuration":[{"clauses":[{"occur":"should","query":{"query":{"terms":{"commerceAccountGroupIds":"${commerce.commerce_account_group_ids}","boost":20}}},"context":"query","type":"wrapper"}],"icon":"thumbs-up","description":{"en_US":"Boost Commerce items for my account groups. Note that this only applies to products using account group filtering."},"category":"commerce","conditions":[],"title":{"en_US":"Boost Items for My Commerce Account Groups"},"enabled":true},{"clauses":[{"occur":"should","query":{"query":{"terms":{"groupId":"${user.user_group_ids}"}}},"context":"query","type":"wrapper"}],"icon":"thumbs-up","description":{"en_US":"Boost contents in groups I'm member of"},"category":"boost","conditions":[],"title":{"en_US":"Boost Contents in My Groups"},"enabled":true},{"clauses":[{"occur":"should","query":{"query":{"bool":{"must":[{"terms":{"entryClassName":["com.liferay.portal.kernel.model.Layout","com.liferay.journal.model.JournalArticle"]}},{"term":{"defaultLanguageId":{"boost":20,"value":"${context.language_id}"}}}]}}},"context":"query","type":"wrapper"}],"icon":"thumbs-up","description":{"en_US":"Boost contents with current session language as the default language"},"category":"boost","conditions":[],"title":{"en_US":"Boost Contents for the Current Language"},"enabled":true},{"clauses":[{"occur":"should","query":{"query":{"function_score":{"gauss":{"expando__keyword__custom_fields__location_geolocation":{"offset":0,"origin":{"lon":"${ipstack.longitude}","lat":"${ipstack.latitude}"},"scale":"100km","decay":0.3}},"boost":20}}},"context":"query","type":"wrapper"}],"icon":"thumbs-up","description":{"en_US":"Boost contents tagged close to my location with a Gaussian function"},"category":"boost","conditions":[],"title":{"en_US":"Boost Proximity"},"enabled":true}],"advanced_configuration":{"query_processing":{"exclude_query_post_processors":"","exclude_query_contributors":""},"source":{"source_includes":"","fetch_source":true,"source_excludes":""},"highlighting":{"fields":["localized_title${context.language_id}","content${context.language_id}"],"require_field_match":"true","enabled":"true","fragment_size":"50","snippet_size":"10"},"page_size":10}},"description":{"en_US":"Boost contents matching user's properties like language, location, groups and segments. Geolocation data provider has to be enabled in Blueprints configuration to take advantage of locating features."},"title":{"en_US":"Personalization (Sample Blueprint)"},"selected_fragments":{"query_configuration":[{"uiConfigurationValues":{"boost":20},"uiConfigurationJSON":[{"defaultValue":20,"name":"Boost","type":"slider","key":"boost"}],"fragmentOutput":{"clauses":[{"occur":"should","query":{"query":{"terms":{"commerceAccountGroupIds":"${commerce.commerce_account_group_ids}","boost":20}}},"context":"query","type":"wrapper"}],"icon":"thumbs-up","description":{"en_US":"Boost Commerce items for my account groups. Note that this only applies to products using account group filtering."},"category":"commerce","conditions":[],"title":{"en_US":"Boost Items for My Commerce Account Groups"},"enabled":true},"fragmentTemplateJSON":{"clauses":[{"occur":"should","query":{"query":{"terms":{"commerceAccountGroupIds":"${commerce.commerce_account_group_ids}","boost":"${config.boost}"}}},"context":"query","type":"wrapper"}],"icon":"thumbs-up","description":{"en_US":"Boost Commerce items for my account groups. Note that this only applies to products using account group filtering."},"category":"commerce","conditions":[],"title":{"en_US":"Boost Items for My Commerce Account Groups"},"enabled":true}},{"uiConfigurationValues":{},"uiConfigurationJSON":[],"fragmentOutput":{"clauses":[{"occur":"should","query":{"query":{"terms":{"groupId":"${user.user_group_ids}"}}},"context":"query","type":"wrapper"}],"icon":"thumbs-up","description":{"en_US":"Boost contents in groups I'm member of"},"category":"boost","conditions":[],"title":{"en_US":"Boost Contents in My Groups"},"enabled":true},"fragmentTemplateJSON":{"clauses":[{"occur":"should","query":{"query":{"terms":{"groupId":"${user.user_group_ids}"}}},"context":"query","type":"wrapper"}],"icon":"thumbs-up","description":{"en_US":"Boost contents in groups I'm member of"},"category":"boost","conditions":[],"title":{"en_US":"Boost Contents in My Groups"},"enabled":true}},{"uiConfigurationValues":{"boost":20},"uiConfigurationJSON":[{"defaultValue":20,"name":"Boost","type":"slider","key":"boost"}],"fragmentOutput":{"clauses":[{"occur":"should","query":{"query":{"bool":{"must":[{"terms":{"entryClassName":["com.liferay.portal.kernel.model.Layout","com.liferay.journal.model.JournalArticle"]}},{"term":{"defaultLanguageId":{"boost":20,"value":"${context.language_id}"}}}]}}},"context":"query","type":"wrapper"}],"icon":"thumbs-up","description":{"en_US":"Boost contents with current session language as the default language"},"category":"boost","conditions":[],"title":{"en_US":"Boost Contents for the Current Language"},"enabled":true},"fragmentTemplateJSON":{"clauses":[{"occur":"should","query":{"query":{"bool":{"must":[{"terms":{"entryClassName":["com.liferay.portal.kernel.model.Layout","com.liferay.journal.model.JournalArticle"]}},{"term":{"defaultLanguageId":{"boost":"${config.boost}","value":"${context.language_id}"}}}]}}},"context":"query","type":"wrapper"}],"icon":"thumbs-up","description":{"en_US":"Boost contents with current session language as the default language"},"category":"boost","conditions":[],"title":{"en_US":"Boost Contents for the Current Language"},"enabled":true}},{"uiConfigurationValues":{"field":"expando__keyword__custom_fields__location_geolocation","scale":100,"boost":20,"decay":0.3},"uiConfigurationJSON":[{"defaultValue":20,"name":"Boost","type":"slider","key":"boost"},{"helpText":"A geopoint field","defaultValue":"expando__keyword__custom_fields__location_geolocation","name":"Field","type":"text","key":"field"},{"defaultValue":0.3,"name":"Decay","type":"number","key":"decay"},{"unit":"km","defaultValue":100,"name":"Scale","type":"number","unitSuffix":"km","key":"scale"}],"fragmentOutput":{"clauses":[{"occur":"should","query":{"query":{"function_score":{"gauss":{"expando__keyword__custom_fields__location_geolocation":{"offset":0,"origin":{"lon":"${ipstack.longitude}","lat":"${ipstack.latitude}"},"scale":"100km","decay":0.3}},"boost":20}}},"context":"query","type":"wrapper"}],"icon":"thumbs-up","description":{"en_US":"Boost contents tagged close to my location with a Gaussian function"},"category":"boost","conditions":[],"title":{"en_US":"Boost Proximity"},"enabled":true},"fragmentTemplateJSON":{"clauses":[{"occur":"should","query":{"query":{"function_score":{"gauss":{"${config.field}":{"offset":0,"origin":{"lon":"${ipstack.longitude}","lat":"${ipstack.latitude}"},"scale":"${config.scale}","decay":"${config.decay}"}},"boost":"${config.boost}"}}},"context":"query","type":"wrapper"}],"icon":"thumbs-up","description":{"en_US":"Boost contents tagged close to my location with a Gaussian function"},"category":"boost","conditions":[],"title":{"en_US":"Boost Proximity"},"enabled":true}}]}},"type":1}
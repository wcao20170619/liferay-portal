{
	"payload": {
		"configuration": {
			"advanced_configuration": {
				"highlighting": {
					"enabled": "true",
					"fields": [
						"localized_title${context.language_id}",
						"content${context.language_id}"
					],
					"fragment_size": "50",
					"require_field_match": "true",
					"snippet_size": "10"
				},
				"page_size": 10,
				"query_processing": {
					"exclude_query_contributors": "",
					"exclude_query_post_processors": ""
				},
				"source": {
					"fetch_source": true,
					"source_excludes": "",
					"source_includes": ""
				}
			},
			"aggregation_configuration": [
			],
			"facet_configuration": [
			],
			"framework_configuration": {
				"apply_indexer_clauses": true
			},
			"parameter_configuration": {
				"custom": [
					{
						"configuration": {
							"date_format": "yyyymmdd",
							"min": "1970-11-11"
						},
						"parameter_name": "dateFrom",
						"type": "date"
					},
					{
						"parameter_name": "time",
						"type": "time_range"
					}
				],
				"keywords": {
					"parameter_name": "q"
				},
				"page": {
					"parameter_name": "page"
				}
			},
			"query_configuration": [
				{
					"category": "conditional",
					"clauses": [
						{
							"context": "query",
							"occur": "should",
							"query": {
								"query": {
									"term": {
										"assetCategoryIds": {
											"boost": 10,
											"value": ""
										}
									}
								}
							},
							"type": "wrapper"
						}
					],
					"conditions": [
						{
							"configuration": {
								"evaluation_type": "contains",
								"match_value": [
									""
								],
								"parameter_name": "${user.user_segment_entry_ids}"
							},
							"handler": "default",
							"operator": "AND"
						}
					],
					"description": {
						"en_US": "Boost contents in a category for users belonging to a user segment"
					},
					"enabled": true,
					"icon": "thumbs-up",
					"title": {
						"en_US": "Boost Contents in a Category for a User Segment"
					}
				},
				{
					"category": "boost",
					"clauses": [
						{
							"context": "query",
							"occur": "should",
							"query": {
								"query": {
									"terms": {
										"groupId": "${user.user_group_ids}"
									}
								}
							},
							"type": "wrapper"
						}
					],
					"conditions": [
					],
					"description": {
						"en_US": "Boost contents in groups I'm member of"
					},
					"enabled": true,
					"icon": "thumbs-up",
					"title": {
						"en_US": "Boost Contents in My Groups"
					}
				},
				{
					"category": "boost",
					"clauses": [
						{
							"context": "query",
							"occur": "should",
							"query": {
								"query": {
									"function_score": {
										"boost": 40,
										"gauss": {
											"expando__keyword__custom_fields__location_geolocation": {
												"decay": 0.3,
												"origin": {
													"lat": "${ipstack.latitude}",
													"lon": "${ipstack.longitude}"
												},
												"scale": "1000km"
											}
										}
									}
								}
							},
							"type": "wrapper"
						}
					],
					"conditions": [
					],
					"description": {
						"en_US": "Boost contents tagged close to my location with a Gaussian function"
					},
					"enabled": true,
					"icon": "thumbs-up",
					"title": {
						"en_US": "Boost Proximity"
					}
				}
			],
			"sort_configuration": {
				"default": [
				],
				"parameters": [
				]
			}
		},
		"description": {
			"en_US": "Boost contents matching user's properties like language, location, groups and segments. Geolocation data provider has to be enabled in Blueprints configuration to take advantage of locating features."
		},
		"selected_fragments": {
			"query_configuration": [
				{
					"fragmentOutput": {
						"category": "conditional",
						"clauses": [
							{
								"context": "query",
								"occur": "should",
								"query": {
									"query": {
										"term": {
											"assetCategoryIds": {
												"boost": 10,
												"value": ""
											}
										}
									}
								},
								"type": "wrapper"
							}
						],
						"conditions": [
							{
								"configuration": {
									"evaluation_type": "contains",
									"match_value": [
										""
									],
									"parameter_name": "${user.user_segment_entry_ids}"
								},
								"handler": "default",
								"operator": "AND"
							}
						],
						"description": {
							"en_US": "Boost contents in a category for users belonging to a user segment"
						},
						"enabled": true,
						"icon": "thumbs-up",
						"title": {
							"en_US": "Boost Contents in a Category for a User Segment"
						}
					},
					"fragmentTemplateJSON": {
						"category": "conditional",
						"clauses": [
							{
								"context": "query",
								"occur": "should",
								"query": {
									"query": {
										"term": {
											"assetCategoryIds": {
												"boost": "${config.boost}",
												"value": "${config.asset_category_id}"
											}
										}
									}
								},
								"type": "wrapper"
							}
						],
						"conditions": [
							{
								"configuration": {
									"evaluation_type": "contains",
									"match_value": [
										"${config.user_segment_id}"
									],
									"parameter_name": "${user.user_segment_entry_ids}"
								},
								"handler": "default",
								"operator": "AND"
							}
						],
						"description": {
							"en_US": "Boost contents in a category for users belonging to a user segment"
						},
						"enabled": true,
						"icon": "thumbs-up",
						"title": {
							"en_US": "Boost Contents in a Category for a User Segment"
						}
					},
					"uiConfigurationJSON": [
						{
							"helpText": "Add asset category ID",
							"key": "asset_category_id",
							"name": "Asset Category",
							"type": "number"
						},
						{
							"helpText": "Add user segment ID",
							"key": "user_segment_id",
							"name": "User Segment",
							"type": "number"
						},
						{
							"defaultValue": 10,
							"key": "boost",
							"name": "Boost",
							"type": "slider"
						}
					],
					"uiConfigurationValues": {
						"asset_category_id": "",
						"boost": 10,
						"user_segment_id": ""
					}
				},
				{
					"fragmentOutput": {
						"category": "boost",
						"clauses": [
							{
								"context": "query",
								"occur": "should",
								"query": {
									"query": {
										"terms": {
											"groupId": "${user.user_group_ids}"
										}
									}
								},
								"type": "wrapper"
							}
						],
						"conditions": [
						],
						"description": {
							"en_US": "Boost contents in groups I'm member of"
						},
						"enabled": true,
						"icon": "thumbs-up",
						"title": {
							"en_US": "Boost Contents in My Groups"
						}
					},
					"fragmentTemplateJSON": {
						"category": "boost",
						"clauses": [
							{
								"context": "query",
								"occur": "should",
								"query": {
									"query": {
										"terms": {
											"groupId": "${user.user_group_ids}"
										}
									}
								},
								"type": "wrapper"
							}
						],
						"conditions": [
						],
						"description": {
							"en_US": "Boost contents in groups I'm member of"
						},
						"enabled": true,
						"icon": "thumbs-up",
						"title": {
							"en_US": "Boost Contents in My Groups"
						}
					},
					"uiConfigurationJSON": [
					],
					"uiConfigurationValues": {
					}
				},
				{
					"fragmentOutput": {
						"category": "boost",
						"clauses": [
							{
								"context": "query",
								"occur": "should",
								"query": {
									"query": {
										"function_score": {
											"boost": 40,
											"gauss": {
												"expando__keyword__custom_fields__location_geolocation": {
													"decay": 0.3,
													"origin": {
														"lat": "${ipstack.latitude}",
														"lon": "${ipstack.longitude}"
													},
													"scale": "1000km"
												}
											}
										}
									}
								},
								"type": "wrapper"
							}
						],
						"conditions": [
						],
						"description": {
							"en_US": "Boost contents tagged close to my location with a Gaussian function"
						},
						"enabled": true,
						"icon": "thumbs-up",
						"title": {
							"en_US": "Boost Proximity"
						}
					},
					"fragmentTemplateJSON": {
						"category": "boost",
						"clauses": [
							{
								"context": "query",
								"occur": "should",
								"query": {
									"query": {
										"function_score": {
											"boost": "${config.boost}",
											"gauss": {
												"${config.field}": {
													"decay": "${config.decay}",
													"origin": {
														"lat": "${ipstack.latitude}",
														"lon": "${ipstack.longitude}"
													},
													"scale": "${config.scale}"
												}
											}
										}
									}
								},
								"type": "wrapper"
							}
						],
						"conditions": [
						],
						"description": {
							"en_US": "Boost contents tagged close to my location with a Gaussian function"
						},
						"enabled": true,
						"icon": "thumbs-up",
						"title": {
							"en_US": "Boost Proximity"
						}
					},
					"uiConfigurationJSON": [
						{
							"defaultValue": 40,
							"key": "boost",
							"name": "Boost",
							"type": "slider"
						},
						{
							"defaultValue": "expando__keyword__custom_fields__location_geolocation",
							"helpText": "A geopoint field",
							"key": "field",
							"name": "Field",
							"type": "text"
						},
						{
							"defaultValue": 0.3,
							"key": "decay",
							"name": "Decay",
							"type": "number"
						},
						{
							"defaultValue": 1000,
							"key": "scale",
							"name": "Scale",
							"type": "number",
							"unit": "km",
							"unitSuffix": "km"
						}
					],
					"uiConfigurationValues": {
						"boost": 40,
						"decay": 0.3,
						"field": "expando__keyword__custom_fields__location_geolocation",
						"scale": 1000
					}
				}
			]
		},
		"title": {
			"en_US": "Personalization (Sample Blueprint)"
		}
	},
	"type": 1
}